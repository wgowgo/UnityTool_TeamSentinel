<Window x:Class="MonitoringGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:MonitoringGUI"
        Title="Unity Monitoring GUI" Height="700" Width="1400">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <Border Grid.Row="0" Background="#F0F0F0" Padding="10" Margin="10">
            <StackPanel Orientation="Horizontal">
            <TextBlock Text="연결된 클라이언트: " VerticalAlignment="Center" Margin="0,0,5,0" FontWeight="SemiBold"/>
            <TextBlock Name="ClientCount" Text="0" VerticalAlignment="Center" FontWeight="Bold" Foreground="Blue" Margin="0,0,20,0"/>
            <TextBlock Text="Unity 실행 중: " VerticalAlignment="Center" Margin="0,0,5,0" FontWeight="SemiBold"/>
            <TextBlock Name="UnityRunningCount" Text="0" VerticalAlignment="Center" FontWeight="Bold" Foreground="Green"/>
            </StackPanel>
        </Border>
        
        <ListView Name="ClientList" Grid.Row="1" Margin="10">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="PC" DisplayMemberBinding="{Binding PcName}" Width="120"/>
                    <GridViewColumn Header="상태" DisplayMemberBinding="{Binding Status}" Width="120"/>
                    <GridViewColumn Header="Unity" Width="70">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding UnityRunning, Converter={StaticResource BoolToYesNoConverter}}" 
                                          Foreground="{Binding UnityRunning, Converter={StaticResource BoolToColorConverter}}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="CPU" Width="70">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="CpuUsage" StringFormat="{}{0:F1}%"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="메모리" Width="80">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="MemoryUsage" StringFormat="{}{0:F1}%"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="Unity CPU" Width="90">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="UnityCpuUsage" StringFormat="{}{0:F1}%"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="Unity 메모리" Width="110">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="UnityMemoryUsage" StringFormat="{}{0:F1}MB"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="Idle" Width="70">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="IdleMinutes" StringFormat="{}{0}분"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="집중도" Width="80">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="FocusLevel" StringFormat="{}{0:P0}"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="작업시간" Width="90">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="TodayWorkMinutes" StringFormat="{}{0}분"/>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>
                    <GridViewColumn Header="활성 창" DisplayMemberBinding="{Binding ActiveWindow}" Width="300"/>
                </GridView>
            </ListView.View>
        </ListView>
    </Grid>
</Window>

